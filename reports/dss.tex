\section{Hệ hỗ trợ quyết định (DSS)}

\subsection{Khái niệm Decision Support System}

Decision Support System (DSS) là một hệ thống thông tin tương tác giúp người ra quyết định sử dụng dữ liệu, mô hình, và công cụ phân tích để giải quyết các vấn đề phức tạp và đưa ra quyết định tốt hơn.

Trong bối cảnh bài toán Bank Customer Churn, DSS giúp ban quản lý ngân hàng:
\begin{itemize}
    \item Hiểu rõ tình trạng churn hiện tại.
    \item Xác định các yếu tố ảnh hưởng đến churn.
    \item Dự đoán khách hàng có nguy cơ churn cao.
    \item Đưa ra các chiến lược giữ chân khách hàng phù hợp.
\end{itemize}

\subsection{Kiến trúc DSS cho bài toán Churn}

Hệ thống DSS được xây dựng bao gồm các thành phần sau:

\subsubsection{ata Warehouse (Kho dữ liệu)}

\begin{itemize}
    \item \textbf{Vai trò}: Lưu trữ dữ liệu đã được tổ chức theo star schema, tối ưu cho phân tích.
    \item \textbf{Công nghệ}: PostgreSQL hoặc CSV files.
    \item \textbf{Nội dung}: 4 dimension tables + 1 fact table với 10,000 bản ghi khách hàng.
\end{itemize}

\subsubsection{OLAP Engine (Công cụ phân tích đa chiều)}

\begin{itemize}
    \item \textbf{Vai trò}: Thực hiện các truy vấn phân tích theo nhiều chiều (thời gian, địa lý, phân khúc).
    \item \textbf{Công nghệ}: SQL queries trên DWH.
    \item \textbf{Chức năng}: Drill-down, roll-up, slice, dice để khám phá dữ liệu.
\end{itemize}

\subsubsection{Predictive Model (Mô hình dự đoán)}

\begin{itemize}
    \item \textbf{Vai trò}: Dự đoán khả năng churn của từng khách hàng.
    \item \textbf{Công nghệ}: Scikit-learn (Logistic Regression, Random Forest).
    \item \textbf{Output}: Churn probability score (0-1) cho mỗi khách hàng.
\end{itemize}

\subsubsection{Visualization Layer (Lớp trực quan hóa)}

\begin{itemize}
    \item \textbf{Vai trò}: Hiển thị kết quả phân tích dưới dạng biểu đồ, dashboard.
    \item \textbf{Công nghệ}: Matplotlib (Python).
    \item \textbf{Output}: PNG charts (churn distribution, churn by geography, feature importance, v.v.).
\end{itemize}

\subsubsection{User Interface (Giao diện người dùng)}

\begin{itemize}
    \item \textbf{Vai trò}: Cho phép người dùng tương tác với hệ thống, xem báo cáo, chạy phân tích.
    \item \textbf{Công nghệ}: Jupyter Notebook (hiện tại) hoặc Web Dashboard (tương lai).
    \item \textbf{Chức năng}: Chọn filters, xem charts, download reports.
\end{itemize}

\subsection{Dashboard cho kho dữ liệu}

Để nâng cao khả năng tương tác và trực quan hóa, chúng tôi đã xây dựng một dashboard web tương tác sử dụng Plotly Dash.


\subsubsection{Kiến trúc Dashboard}

\begin{lstlisting}[style=python, caption=Khởi tạo Dashboard]
import dash
from dash import dcc, html, Input, Output
import plotly.express as px
import pandas as pd

class ChurnDashboard:
    def __init__(self):
        self.app = dash.Dash(__name__)
        self.load_data()
        self.setup_layout()
        self.setup_callbacks()
    
    def run(self, port=3000):
        self.app.run(debug=True, port=port)
\end{lstlisting}

\subsubsection{Các thành phần Dashboard}

\textbf{1. KPI Cards (Thẻ chỉ số)}:

Dashboard hiển thị 4 KPI chính ở đầu trang:
\begin{itemize}
    \item \textbf{Total Customers}: Tổng số khách hàng (10,000)
    \item \textbf{Churned}: Số khách hàng đã churn (~2,000)
    \item \textbf{Churn Rate}: Tỷ lệ churn (~20\%)
    \item \textbf{Avg Balance}: Số dư trung bình (\$76,485)
\end{itemize}

\textbf{2. Interactive Filters (Bộ lọc tương tác)}:

Ba bộ lọc dropdown cho phép người dùng phân tích theo segment:
\begin{itemize}
    \item \textbf{Country}: All / France / Germany / Spain
    \item \textbf{Age Group}: All / <=25 / 26-35 / 36-45 / 46-55 / >=56
    \item \textbf{Gender}: All / Male / Female
\end{itemize}

\textbf{3. Interactive Charts (Biểu đồ tương tác)}:

Dashboard bao gồm 6 biểu đồ tương tác:

\begin{enumerate}
    \item \textbf{Churn Rate by Country}: Bar chart với color gradient
    \item \textbf{Churn Rate by Age Group}: Bar chart theo thứ tự tuổi
    \item \textbf{Balance Distribution}: Box plot so sánh churned vs retained
    \item \textbf{Churn by Products}: Bar chart theo số lượng sản phẩm
    \item \textbf{Age Distribution}: Histogram 30 bins
    \item \textbf{Churn by Tenure}: Line chart với markers
\end{enumerate}


\subsubsection{Chạy Dashboard}

\textbf{Khởi chạy}:
\begin{lstlisting}[style=python]
python run_dashboard.py
\end{lstlisting}

\textbf{Output}:
\begin{verbatim}
============================================================
STARTING CHURN ANALYTICS DASHBOARD
============================================================

Dashboard will be available at: http://localhost:3000
Press Ctrl+C to stop the server

Dash is running on http://127.0.0.1:3000/

 * Serving Flask app 'dashboard'
 * Debug mode: on
\end{verbatim}


\begin{figure}[h!]
	\centering
	\includegraphics[width=0.95\textwidth]{figures/dashboard_overview.png}
	\caption{Giao diện Dashboard tương tác - Phần trên (KPI Cards, Filters, và Charts 1-2)}
	\label{fig:dashboard_overview}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.95\textwidth]{figures/dashboard_bottom.png}
	\caption{Giao diện Dashboard tương tác - Phần dưới (Charts 3-6)}
	\label{fig:dashboard_bottom}
\end{figure}

\subsubsection{Ưu điểm của Dashboard tương tác}

\begin{enumerate}
    \item \textbf{Real-time filtering}: Tất cả charts cập nhật ngay lập tức khi thay đổi filters
    \item \textbf{Interactive exploration}: Hover để xem chi tiết, zoom, pan trên charts
    \item \textbf{User-friendly}: Giao diện trực quan, dễ sử dụng cho non-technical users
    \item \textbf{Shareable}: Có thể share URL cho team members
    \item \textbf{Responsive}: Tự động điều chỉnh layout theo kích thước màn hình
    \item \textbf{Extensible}: Dễ dàng thêm charts, filters, hoặc features mới
\end{enumerate}

\subsubsection{Ví dụ thực tế}

\textbf{Phân tích churn ở Germany}
\begin{enumerate}
    \item Chọn filter Country = "Germany"
    \item KPIs cập nhật: Churn rate tăng lên 32\%
    \item Charts cho thấy: Age group 46-55 có churn rate cao nhất
    \item Decision: Tập trung retention campaign vào Germany, nhóm 46-55 tuổi
\end{enumerate}

\begin{figure}[h!]
\centering
\includegraphics[width=0.9\textwidth]{figures/dashboard_germany.png}
\caption{Dashboard khi filter Country = Germany - Churn rate tăng lên 32\%}
\label{fig:dashboard_germany}
\end{figure}
